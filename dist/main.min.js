function debounce(a,b,c){var d;return function(e){var f=this,e=arguments,g=function(){d=null,c||a.apply(f,e)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(f,e)}}function RGB2HSV(a){return hsv={},max=max3(a.r,a.g,a.b),dif=max-min3(a.r,a.g,a.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:a.r==max?hsv.hue=60*(a.g-a.b)/dif:a.g==max?hsv.hue=120+60*(a.b-a.r)/dif:a.b==max&&(hsv.hue=240+60*(a.r-a.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}function HSV2RGB(a){var b=new Object;if(0==a.saturation)b.r=b.g=b.b=Math.round(2.55*a.value);else{switch(a.hue/=60,a.saturation/=100,a.value/=100,i=Math.floor(a.hue),f=a.hue-i,p=a.value*(1-a.saturation),q=a.value*(1-a.saturation*f),t=a.value*(1-a.saturation*(1-f)),i){case 0:b.r=a.value,b.g=t,b.b=p;break;case 1:b.r=q,b.g=a.value,b.b=p;break;case 2:b.r=p,b.g=a.value,b.b=t;break;case 3:b.r=p,b.g=q,b.b=a.value;break;case 4:b.r=t,b.g=p,b.b=a.value;break;default:b.r=a.value,b.g=p,b.b=q}b.r=Math.round(255*b.r),b.g=Math.round(255*b.g),b.b=Math.round(255*b.b)}return b}function HueShift(a,b){for(a+=b;a>=360;)a-=360;for(;a<0;)a+=360;return a}function min3(a,b,c){return a<b?a<c?a:c:b<c?b:c}function max3(a,b,c){return a>b?a>c?a:c:b>c?b:c}function hexToRGB(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return{r:parseInt(b[1],16),g:parseInt(b[2],16),b:parseInt(b[3],16)}}function refreshColor(){var a=1,b=new Date,c=b.getHours(),d=b.getMinutes(),e=b.getSeconds();c<=9&&(c="0"+c),d<=9&&(d="0"+d),e<=9&&(e="0"+e),hex=c.toString()+d.toString()+e.toString(),temprgb=hexToRGB(hex),temphsv=RGB2HSV(temprgb),temphsv.hue=HueShift(temphsv.hue,180),tempcomp=HSV2RGB(temphsv),primary="rgba("+temprgb.r+","+temprgb.g+","+temprgb.b+", 0.75)",complement="rgba("+tempcomp.r+","+tempcomp.g+","+tempcomp.b+", 0.75)",$("nav ul li a.active").css({"text-shadow":"0 1px 0 rgba(255, 255, 255, 0.4)","background-color":"rgba(255,255,255, .7)",color:complement}),$("nav ul li a:not('.active')").css({"text-shadow":"0 1px 0 "+complement,"background-color":complement,color:"rgba(255,255,255, .7)"}),$("a#hide-everything").css({color:"rgb(255,255,255)","background-color":primary}),setTimeout(refreshColor,1e3*a)}String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1};var Toadkicker;Toadkicker=function(a){return{init:function(){a("#year").html((new Date).getFullYear()),a(document).on("ready",null,function(){var a=""===window.location.hash?"#home":window.location.hash;return window.location.hash=a,Toadkicker.getBackgroundImages(),Toadkicker.controller(a)}),a(document).on("click","nav a",function(a){var b=a.currentTarget.attributes.href.nodeValue;Toadkicker.controller(b)}),a(document).on("change","#wallpaper-picker",function(b){Toadkicker.$body.data("imageUrl",b.currentTarget.value),Toadkicker.$body.css({"background-image":"url('"+b.currentTarget.value+"')"}),a("#wallpaper-download").attr("href",b.currentTarget.value)}),a(document).on("click","#hide-everything",function(a){Toadkicker.toggleView(a)}),a(window).on("resize",function(){debounce(Toadkicker.getBackgroundImages(),1e3,!0)})},randomImages:[],$body:a("html"),progressElem:a("#progress"),homeView:a("#home-template").html(),portfolioView:a("#portfolio-template").html(),contactView:a("#contact-template").html(),playgroundView:a("#playground-template").html(),wallpapers:a("#reddit-wallpapers"),controller:function(b){var c=a("#main");switch(b){case"#home":return Toadkicker.setActiveNav(b),c.html(Toadkicker.homeView);case"#portfolio":return Toadkicker.setActiveNav(b),c.html(Toadkicker.portfolioView);case"#contact":return Toadkicker.setActiveNav(b),c.html(Toadkicker.contactView);case"#playground":return Toadkicker.setActiveNav(b),c.html(Toadkicker.playgroundView)}},setActiveNav:function(b){a("nav a").removeClass("active"),""==window.location.hash&&a("nav a[href='#home']").addClass("active"),void 0!==b?a("nav a[href="+b+"]").addClass("active"):a("nav a[href="+window.location.hash+"]").addClass("active")},populateWallpaperPicker:function(){var b=a("#wallpaper-picker"),c=Toadkicker.$body.data("imageUrl");Toadkicker.randomImages.length>0?Toadkicker.randomImages.forEach(function(a){b.append('<option value="'+a+'">'+a+"</option>")}):b.append('<option value="reload">Get New Wallpapers!</option>'),b.val(c),a("#wallpaper-download").attr("href",c)},getWindowSize:function(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}},setWallaperURL:function(){var a=this.getWindowSize();return a.width<=480?"http://www.reddit.com/r/iwallpaper.json#nonsfw?jsonp=?":"http://www.reddit.com/r/EarthPorn.json?jsonp=?"},getBackgroundImages:function(){a.ajax({type:"GET",dataType:"json",async:!0,url:this.setWallaperURL(),cache:!1,error:function(a,b,c){console.log(a.responseText),console.log(c),alert("It looks like you might be using some ad-blocking extensions like Adblock or Disconnect. Please whitelist me! I'm only using Google Analytics. You're likely getting this message because I'm loading background images from Reddit.com.")},xhr:function(){var a=new window.XMLHttpRequest;return a.addEventListener("progress",function(a){if(Toadkicker.progressElem.show(),Toadkicker.$body.addClass("loading"),a.lengthComputable){var b=a.loaded/a.total;Toadkicker.progressElem.querySelector(".progress-bar").html(Math.round(100*b)+"%")}},!1),a},complete:function(){Toadkicker.$body.removeClass("loading"),Toadkicker.progressElem.hide()},success:function(a){a.data.children.filter(function(a){(a.data.url.endsWith("jpg")||a.data.url.endsWith("png")||a.data.url.endsWith("jpeg"))&&Toadkicker.randomImages.push(a.data.url)}),Toadkicker.setBackgroundImage(),Toadkicker.populateWallpaperPicker()}})},setBackgroundImage:function(){var a=Math.floor(Math.random()*Toadkicker.randomImages.length);if(Toadkicker.randomImages.length>0){var b=document.querySelector("html");b.setAttribute("style","background-image: url('"+Toadkicker.randomImages[a]+"')"),Toadkicker.$body.data("imageUrl",Toadkicker.randomImages[a])}},toggleView:function(b){void 0!==b&&b.preventDefault();var c,d,e,f=["#home-link","#portfolio-link","#playground-link","#contact-link","#main","#copywhatever","#picker"];e=a("#hide-everything"),c=function(){e.html("Show Stuff!"),e.css({top:"32px",right:"10px"}),a("footer").slideUp()},d=function(){e.html("Enjoy the View!"),e.css({top:"45px",right:"0"}),a("footer").slideDown()},e.data("state")?d():c(),a(f.join()).toggleClass("out","in"),e.data("state",!e.data("state"))}}}(window.jQuery),!function(a,b,c){var d,e=a.getElementsByTagName(b)[0],f=/^http:/.test(a.location)?"http":"https";a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src=f+"://platform.twitter.com/widgets.js",e.parentNode.insertBefore(d,e))}(document,"script","twitter-wjs"),refreshColor(),Toadkicker.init();