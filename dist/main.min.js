function debounce(r,i,n){var c;return function(e){var t=this,a=e||arguments,o=n&&!c;clearTimeout(c),c=setTimeout(function(){c=null,n||r.apply(t,a)},i),o&&r.apply(t,a)}}var Toadkicker;function RGB2HSV(e){return hsv={},max=max3(e.r,e.g,e.b),dif=max-min3(e.r,e.g,e.b),hsv.saturation=0==max?0:100*dif/max,0==hsv.saturation?hsv.hue=0:e.r==max?hsv.hue=60*(e.g-e.b)/dif:e.g==max?hsv.hue=120+60*(e.b-e.r)/dif:e.b==max&&(hsv.hue=240+60*(e.r-e.g)/dif),hsv.hue<0&&(hsv.hue+=360),hsv.value=Math.round(100*max/255),hsv.hue=Math.round(hsv.hue),hsv.saturation=Math.round(hsv.saturation),hsv}function HSV2RGB(e){var a=new Object;if(0==e.saturation)a.r=a.g=a.b=Math.round(2.55*e.value);else{switch(e.hue/=60,e.saturation/=100,e.value/=100,i=Math.floor(e.hue),f=e.hue-i,p=e.value*(1-e.saturation),q=e.value*(1-e.saturation*f),t=e.value*(1-e.saturation*(1-f)),i){case 0:a.r=e.value,a.g=t,a.b=p;break;case 1:a.r=q,a.g=e.value,a.b=p;break;case 2:a.r=p,a.g=e.value,a.b=t;break;case 3:a.r=p,a.g=q,a.b=e.value;break;case 4:a.r=t,a.g=p,a.b=e.value;break;default:a.r=e.value,a.g=p,a.b=q}a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b)}return a}function HueShift(e,t){for(e+=t;360<=e;)e-=360;for(;e<0;)e+=360;return e}function min3(e,t,a){return e<t?e<a?e:a:t<a?t:a}function max3(e,t,a){return t<e?a<e?e:a:a<t?t:a}function hexToRGB(e){e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}}function refreshColor(){var e=new Date,t=e.getHours(),a=e.getMinutes(),e=e.getSeconds();a<=9&&(a="0"+a),e<=9&&(e="0"+e),hex=(t=t<=9?"0"+t:t).toString()+a.toString()+e.toString(),temprgb=hexToRGB(hex),temphsv=RGB2HSV(temprgb),temphsv.hue=HueShift(temphsv.hue,180),tempcomp=HSV2RGB(temphsv),primary="rgba("+temprgb.r+","+temprgb.g+","+temprgb.b+", 0.75)",complement="rgba("+tempcomp.r+","+tempcomp.g+","+tempcomp.b+", 0.75)",$("nav ul li a.active").css({"text-shadow":"0 1px 0 rgba(255, 255, 255, 0.4)","background-color":"rgba(255,255,255, .7)",color:complement}),$("nav ul li a:not('.active')").css({"text-shadow":"0 1px 0 "+complement,"background-color":complement,color:"rgba(255,255,255, .7)"}),$("a#hide-everything").css({color:"rgb(255,255,255)","background-color":primary}),setTimeout(refreshColor,1e3)}String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)},Toadkicker=function(i){return{init:function(){i("#year").html((new Date).getFullYear()),i(document).on("ready",null,function(){var e="#home";return 0<window.location.search.length&&(e="#404"),window.location.hash=e,Toadkicker.getBackgroundImages(),Toadkicker.controller(e)}),i(document).on("click","nav a",function(e){e=e.currentTarget.attributes.href.nodeValue;Toadkicker.controller(e)}),i(document).on("click","#wallpaper-picker a.picker",function(e){e.preventDefault(),i("#wallpaper-picker").find("a.picker").removeClass("active"),e.currentTarget.classList.add("active"),Toadkicker.$body.data("imageUrl",e.currentTarget.href),Toadkicker.$body.css({"background-image":"url('"+e.currentTarget.href+"')"}),Toadkicker.toggleFooter()}),i(document).on("click","a.footer-toggle",function(e){e.preventDefault(),Toadkicker.toggleFooter()}),i(document).on("click","#hide-everything",function(e){Toadkicker.toggleView(e)}),i(window).on("resize",function(){Toadkicker.getWindowSize().width<=600&&debounce(Toadkicker.getBackgroundImages(),1e3,!0)})},randomImages:[],$body:i("html"),progressElem:i("#progress"),homeView:i("#home-template").html(),portfolioView:i("#portfolio-template").html(),contactView:i("#contact-template").html(),fourOhFourView:i("#fourOhFour-template").html(),wallpapers:i("#reddit-wallpapers"),controller:function(e){var t=i("#main");switch(e){case"#home":return Toadkicker.setActiveNav(e),t.html(Toadkicker.homeView);case"#portfolio":return Toadkicker.setActiveNav(e),t.html(Toadkicker.portfolioView);case"#contact":return Toadkicker.setActiveNav(e),t.html(Toadkicker.contactView);case"#404":return Toadkicker.setActiveNav(e),t.html(Toadkicker.fourOhFourView);default:return Toadkicker.setActiveNav(e),t.html(Toadkicker.homeView)}},toggleFooter:function(){var e=i("footer"),t=i("footer #picker");!0===t.data("toggle")?(t.data({toggle:!1}),e.removeClass("close").addClass("open")):(t.data({toggle:!0}),e.removeClass("open").addClass("close"))},setActiveNav:function(e){i("nav a").removeClass("active"),""!==window.location.hash&&"/#"!==window.location.hash&&"/#home"!==window.location.hash||i("nav a[href='#home']").addClass("active"),i(void 0!==e?"nav a[href='"+e+"']":"nav a[href='"+window.location.hash+"']").addClass("active")},populateWallpaperPicker:function(){var e=i("#wallpaper-picker"),t=Toadkicker.$body.data("imageUrl");if(document.querySelectorAll("#wallpaper-picker")[0].innerHTML="",0<Toadkicker.randomImages.length)for(var a=Toadkicker.randomImages.length;a--;){var o=Toadkicker.randomImages[a],r=o.preview.images[0].resolutions[0];108<r.height&&(r.height=108),108<r.width&&(r.width=108),e.append('<div class="col-xs-4 col-sm-2 col-md-2 col-lg-2"><a class="picker" href="'+o.url+'"><img src="'+o.preview.images[0].resolutions[0].url+'" alt="'+o.title+'"><span style="height:'+r.height+"px;width:"+r.width+'px">'+o.title+'&mdash; set bg</span></a><a class="download-bg" href="'+o.url+'" download="'+o.url+'">want <img src="heart.svg" height="14px"></a> </div>')}e.val(t)},getWindowSize:function(){var e=window,t=document,a=t.documentElement,t=t.getElementsByTagName("body")[0];return{width:e.innerWidth||a.clientWidth||t.clientWidth,height:e.innerHeight||a.clientHeight||t.clientHeight}},setWallaperURL:function(){return this.getWindowSize().width<=480?"https://www.reddit.com/r/iwallpaper.json#nonsfw?jsonp=?":"https://www.reddit.com/r/EarthPorn.json?jsonp=?"},getBackgroundImages:function(){i.ajax({type:"GET",dataType:"json",async:!0,url:this.setWallaperURL(),cache:!1,error:function(e,t,a){console.log(e.responseText),console.log(a),alert("It looks like you might be using some ad-blocking extensions like Adblock or Disconnect. Please whitelist me! I'm only using Google Analytics. You're likely getting this message because I'm loading background images from Reddit.com.")},xhr:function(){var e=new window.XMLHttpRequest;return e.addEventListener("progress",function(e){Toadkicker.progressElem.show(),Toadkicker.$body.addClass("loading"),e.lengthComputable&&(e=e.loaded/e.total,Toadkicker.progressElem.querySelector(".progress-bar").html(Math.round(100*e)+"%"))},!1),e},complete:function(){Toadkicker.$body.removeClass("loading"),Toadkicker.progressElem.hide(),i("a.picker[href='"+Toadkicker.$body.data("imageUrl")+"']").addClass("active")},success:function(e){Toadkicker.randomImages=[],e.data.children.filter(function(e){(e.data.url.endsWith("jpg")||e.data.url.endsWith("png")||e.data.url.endsWith("jpeg"))&&Toadkicker.randomImages.push(e.data)}),Toadkicker.setBackgroundImage(),Toadkicker.populateWallpaperPicker()}})},setBackgroundImage:function(){var e;0<Toadkicker.randomImages.length&&(e=Math.floor(Math.random()*Toadkicker.randomImages.length),document.querySelector("html").setAttribute("style","background-image: url('"+Toadkicker.randomImages[e].url+"')"),Toadkicker.$body.data("imageUrl",Toadkicker.randomImages[e].url))},toggleView:function(e){void 0!==e&&e.preventDefault();var t=i("#hide-everything"),a=function(){t.html("Show Stuff!"),t.css({top:"32px",right:"10px"}),i("footer").slideUp()},e=function(){t.html("Enjoy the View!"),t.css({top:"45px",right:"0"}),i("footer").slideDown()};(t.data("state")?e:a)(),i(["#home-link","#portfolio-link","#playground-link","#contact-link","#main","#copywhatever","#picker"].join()).toggleClass("out","in"),t.data("state",!t.data("state"))}}}(window.jQuery),function(e,t){var a=e.getElementsByTagName("script")[0],o=/^http:/.test(e.location)?"http":"https";e.getElementById(t)||((e=e.createElement("script")).id=t,e.src=o+"://platform.twitter.com/widgets.js",a.parentNode.insertBefore(e,a))}(document,"twitter-wjs"),refreshColor(),Toadkicker.init();